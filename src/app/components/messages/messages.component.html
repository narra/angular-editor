<!--
* Copyright: (c) 2021, Michal Mocnak <michal@narra.eu>, Eric Rosenzveig <eric@narra.eu>
* Copyright: (c) 2021, Narra Project
* GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)
-->

<clr-alerts>
  <clr-alert *ngFor="let message of messages" [clrAlertAppLevel]="true" [clrAlertType]="message.type"
             (clrAlertClosedChange)="removeMessage(message)" class="alert-fade">
    <clr-alert-item>
        <div class="alert-text">
            {{message.message}}
        </div>
        <div class="alert-actions" *ngIf="message.trace">
          <button class="btn alert-action" (click)="showDetails(message)">Show details</button>
        </div>
    </clr-alert-item>
  </clr-alert>
</clr-alerts>

<clr-modal [(clrModalOpen)]="detailsOpen" [clrModalClosable]="false" [clrModalSize]="'xl'" [clrModalStaticBackdrop]="false">
  <h3 class="modal-title">{{detailsMessage.message}}</h3>
  <div class="modal-body">
    <pre>{{detailsMessage.trace.join('\n')}}</pre>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger" (click)="detailsOpen = false">Close</button>
  </div>
</clr-modal>
